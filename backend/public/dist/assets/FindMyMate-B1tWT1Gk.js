import{r as n,j as e}from"./index-DgWF9MBv.js";import{m as d}from"./proxy-C2YUrH8b.js";function B(){const[l,b]=n.useState(""),[m,y]=n.useState(""),[o,j]=n.useState([]),[c,p]=n.useState(!0),x=window.location.hostname.includes("localhost")?"https://molsongbsspaces.onrender.com":"http://localhost:3000";n.useEffect(()=>{(async()=>{try{const r=await fetch(`${x}/api/user/all`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),{data:k}=await r.json(),w=await Promise.all(k.map(async i=>{const S=await fetch(`${x}/api/user/positions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({userId:i._id})}),{data:C}=await S.json(),f=C.flatMap(h=>{const z=h.locationId;return h.bookings.filter(a=>{if(a.status!=="accepted")return!1;const W=new Date(a.start).getTime(),L=new Date(a.end).getTime(),u=new Date().getTime();return W<=u&&u<=L}).map(a=>({...a,locationId:z}))})[0];return{id:i._id,name:i.name,email:i.email,location:f?.locationId||"Not in office",status:f?"in-office":"offline",avatar:i.image}}));j(w),p(!1)}catch(r){console.error("Error fetching colleagues:",r),p(!1)}})()},[]);const s=t=>{switch(t){case"in-office":return"#10b981";case"remote":return"#f59e0b";case"offline":return"#6b7280";default:return"#6b7280"}},v=t=>{switch(t){case"in-office":return"In Office";case"remote":return"Remote";case"offline":return"Offline";default:return"Unknown"}},g=o.filter(t=>t.name.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 45%, #dbeafe 100%)",padding:"20px 16px 24px",position:"relative",overflowX:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.08,backgroundImage:`
						radial-gradient(circle at 12% 22%, rgba(0,103,172,0.35) 0%, transparent 22%),
						radial-gradient(circle at 88% 78%, rgba(246,221,88,0.35) 0%, transparent 22%),
						radial-gradient(circle at 50% 50%, rgba(2,132,199,0.25) 0%, transparent 28%)
					`,animation:"gradientShift 20s ease infinite",pointerEvents:"none"}}),e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"linear-gradient(rgba(148, 163, 184, 0.06) 1px, transparent 1px), linear-gradient(90deg, rgba(148, 163, 184, 0.06) 1px, transparent 1px)",backgroundSize:"48px 48px",opacity:.35,pointerEvents:"none"}}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},style:{maxWidth:"1320px",margin:"0 auto",position:"relative",zIndex:1,width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px",flexWrap:"wrap",marginBottom:24},children:[e.jsx(d.div,{animate:{rotate:[0,4,-4,0],scale:[1,1.04,1]},transition:{duration:2.4,repeat:1/0,repeatDelay:3},style:{background:"linear-gradient(135deg, #0067AC, #1d4ed8)",borderRadius:"14px",padding:"14px",boxShadow:"0 10px 25px rgba(30, 64, 175, 0.25)"},children:e.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M16 11c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3z",stroke:"#bfdbfe",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M8 11c1.657 0 3-1.343 3-3S9.657 5 8 5 5 6.343 5 8s1.343 3 3 3z",stroke:"#bfdbfe",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 19c0-2.761 3.134-5 7-5s7 2.239 7 5",stroke:"#bfdbfe",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M17 19c0-1.657 1.567-3 3.5-3S24 17.343 24 19",stroke:"#bfdbfe",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"34px",fontWeight:"800",background:"linear-gradient(135deg, #0f172a, #1d4ed8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-0.4px",margin:0},children:"Find My Mate"}),e.jsx("p",{style:{color:"#475569",margin:"6px 0 0 0",fontSize:"16px",fontWeight:500},children:"Locate your colleagues and see who's in the office today"})]})]}),e.jsx("div",{style:{background:"linear-gradient(135deg, rgba(248, 250, 252, 0.96), rgba(255, 255, 255, 0.98))",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"18px",padding:"20px",marginBottom:"24px",boxShadow:"0 14px 32px rgba(15, 23, 42, 0.06)"},children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search by name or department"}),e.jsx("input",{type:"text",value:l,onChange:t=>b(t.target.value),placeholder:"Search colleagues...",style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"2px solid #e5e7eb",outline:"none",transition:"border-color 0.3s"},onFocus:t=>t.target.style.borderColor="#0067AC",onBlur:t=>t.target.style.borderColor="#e5e7eb"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Date"}),e.jsx("input",{type:"date",value:m,onChange:t=>y(t.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"2px solid #e5e7eb",outline:"none",transition:"border-color 0.3s"},onFocus:t=>t.target.style.borderColor="#0067AC",onBlur:t=>t.target.style.borderColor="#e5e7eb"})]})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"18px",marginBottom:"24px"},children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #ffffff, #f8fafc)",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"16px",padding:"clamp(16px, 2vw, 20px) clamp(20px, 4vw, 28px)",textAlign:"center",boxShadow:"0 12px 24px rgba(15, 23, 42, 0.08)"},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[e.jsx("div",{style:{width:12,height:12,borderRadius:6,background:"#10b981"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"22px",fontWeight:700,color:"#0f172a"},children:o.filter(t=>t.status==="in-office").length}),e.jsx("p",{style:{fontSize:"13px",color:"#64748b"},children:"In Office Today"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #ffffff, #f8fafc)",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"16px",padding:"clamp(16px, 2vw, 20px) clamp(20px, 4vw, 28px)",textAlign:"center",boxShadow:"0 12px 24px rgba(15, 23, 42, 0.08)"},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[e.jsx("div",{style:{width:12,height:12,borderRadius:6,background:"#f59e0b"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"22px",fontWeight:700,color:"#0f172a"},children:o.filter(t=>t.status==="remote").length}),e.jsx("p",{style:{fontSize:"13px",color:"#64748b"},children:"Working Remote"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #ffffff, #f8fafc)",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"16px",padding:"clamp(16px, 2vw, 20px) clamp(20px, 4vw, 28px)",textAlign:"center",boxShadow:"0 12px 24px rgba(15, 23, 42, 0.08)"},children:e.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[e.jsx("div",{style:{width:12,height:12,borderRadius:6,background:"#6b7280"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"22px",fontWeight:700,color:"#0f172a"},children:o.filter(t=>t.status==="offline").length}),e.jsx("p",{style:{fontSize:"13px",color:"#64748b"},children:"Offline"})]})]})})]}),c?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Loading colleagues..."})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((t,r)=>e.jsx(d.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{duration:.32,delay:r*.06},whileHover:{translateY:-4},style:{background:"linear-gradient(135deg, rgba(248, 250, 252, 0.96), rgba(255, 255, 255, 0.98))",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"18px",padding:"20px",boxShadow:"0 14px 32px rgba(15, 23, 42, 0.06)",cursor:"pointer"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px"},children:[e.jsx("img",{style:{width:60,height:60,borderRadius:"50%",background:"linear-gradient(135deg, #0067AC, #002147)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.25rem",fontWeight:"bold",flexShrink:0},src:t.avatar||"https://molsongbsspaces.onrender.com/images/av1.png"}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:6},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:700,color:"#0f172a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name}),e.jsx("div",{style:{width:8,height:8,borderRadius:999,backgroundColor:s(t.status),flexShrink:0}})]}),e.jsx("p",{style:{fontSize:"13px",color:"#64748b",margin:"0 0 6px 0",overflow:"hidden",textOverflow:"ellipsis"},children:t.email}),e.jsx("p",{style:{fontSize:"13px",color:"#0067AC",fontWeight:600,margin:"0 0 10px 0"},children:t.department}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10},children:[e.jsxs("svg",{style:{width:16,height:16,color:"#94a3b8"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("p",{style:{fontSize:"13px",color:"#64748b",margin:0},children:t.location})]}),e.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",borderRadius:9999,fontSize:"0.75rem",fontWeight:600,backgroundColor:`${s(t.status)}20`,color:s(t.status)},children:v(t.status)})]})]})},t.id))}),g.length===0&&!c&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No colleagues found"})})]})]})}export{B as default};
